<html lang="en" xmlns:wb="http://open.weibo.com/wb">
<head>
    <!--<meta http-equiv="content-type" content="text/html;charset=utf-8" >-->
    <!--<meta charset="UTF-8">-->
    <script type="text/javascript" src="js/jquery-3.2.0.min.js"></script>
</head>
<title>测试</title>
<style>
    .table-c table{border-right: 1px solid #F00; border-bottom: 1px solid #F00}
    .table-c table td{border-left: 1px solid #F00; border-top: 1px solid #F00}
    .btn-common {

        text-shadow: 0 -1px 0 rgba(0, 0, 0, .2);
        -webkit-box-shadow: inset 0 1px 0 rgba(255, 10, 54, 0.92), 0 1px 1px rgba(0, 0, 0, 0.07);
        box-shadow: inset 0 1px 0 rgba(205, 107, 255, 0.15), 0 1px 1px rgba(0, 0, 0, 0.54);
    }
</style>
<script type="text/javascript">
    function login() {
        var username = document.getElementById("username").value;
        var password = document.getElementById("password").value;
        var login_error = document.getElementById("login_error");
        $.ajax({
            type: "POST",
            url: "login",
            contentType:"application/json;charset=utf-8",
            dataType: "text",
            data: JSON.stringify({"username":username, "password":password}),
            success: function (data) {
                var json = JSON.parse(data);
                if(json.result == "OK"){
                    location.href="views/loginsuccess.html";
                    login_error.text="";
                } else {
                    alert("no user or password error");
                    login_error.text="no user or password error";
                }
            }
        });

    }
    function toLogin() {
        $.ajax({
            type: "POST",
            url: "login",
            contentTYpe: "application/json;charset=utf-8",
            dataType: "json",
            data: JSON.stringify({"lastPage":window.location.pathname}),
            success: function (data){

            }
        });
    }
    function register() {
        alert("注册信息");
        $.ajax({
            type: "GET",
            url: "register",
        });
    }
    function lighton() {
        document.getElementById("myimg").src="c";
    }
    function lightoff() {
        document.getElementById("myimg").src="./views/images/eg_bulboff.gif";
    }
</script>
<script src="http://tjs.sjs.sinajs.cn/open/api/js/wb.js" type="text/javascript" charset="utf-8"></script>
<body>
<h2>Hello World!</h2>

    <a href="servlet/user">user</a>
    <a href="servlet/book">book</a>
    <a href="servlet/order">order</a>
    <br>
    <form name="userinfo" method="post" action="login">
        <div class="table-c">
        <table cellpadding="0" cellspacing="0">
            <tr>
                <td><p align="center">用户名</p></td>
                <td><input type="text" id="username" value= "" required autofocus></td>
            </tr>
            <tr>
                <td><p align="center">密　码</p></td>
                <td><input type="password" id="password" required></td>
            </tr>
            <tr>
                <td colspan="2">
                <p align="center">
                    <button type="button" class="btn btn-common" onclick="login()">login</button>
                    <button type="button" class="btn btn-common" onclick="register()">register</button>
                    <a href="views/register.html">注册</a>
                </td>
            </tr>
        </table>
            <br>
            <span id="login_error"></span>
        </div>
    </form>
    <a href="">login</a><br>
<img src="img/eg_bulboff.gif" id="myimg" onmousedown="lighton()" onmouseup="lightoff()">

<wb:share-button addition="simple" type="button" ralateUid="2743259413" default_text="这个灯好漂亮" pic="./views/images/eg_bulbon.gif"></wb:share-button>

</body>
</html>